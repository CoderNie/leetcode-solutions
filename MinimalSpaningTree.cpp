#include <iostream>
#include <vector>
using namespace std;

class Solution {
public:
  int networkDelayTime(vector<vector<int>>& times, int N, int K) {
    int adjMar[N + 1][N + 1];
    for (int i = 1; i <= N; i++) {
      for (int j = 1; j <= N; j++) {
        if (i == j) {
          adjMar[i][i] = 0;
        } else {
          adjMar[i][j] = INT16_MAX;
        }
      }
    }
    for (int i = 0; i < times.size(); i++)
      adjMar[times[i][0]][times[i][1]] = times[i][2];
    
    int lowCost[N + 1], lowPoint[N + 1], finish[N + 1];
    for (int i = 1; i <= N; i++) {
      lowCost[i] = adjMar[K][i];
      lowPoint[i] = K;
      finish[i] = 0;
    }

    finish[K] = 1;
    for (int i = 1; i < N; i++) {
      int min = INT16_MAX;
      int minPos;
      for (int j = 1; j <= N; j++) {
        if (!finish[j] && lowCost[j] < min) {
          min = lowCost[j];
          minPos = j;
        }
      }
      finish[minPos] = 1;
      for (int j = 1; j <= N; j++) {
        if (!finish[j] && (min + adjMar[minPos][j]) < lowCost[j]) {
          lowCost[j] = adjMar[minPos][j] + min;
          lowPoint[j] = minPos;
        }
      }
    }
    int max = 0;
    for (int i = 1; i <= N; i++) {
      if (!finish[i]) {
        return -1;
      } else {
        if (lowCost[i] > max) {
          max = lowCost[i];
        }
      }
      cout << lowPoint[i] << " ";
    }
    cout << endl;
    return max;
  }
};

int main() {
  vector<vector<int>> edges = {{2,10,98},{43,19,85},{32,11,35},{40,39,93},{21,27,51},{16,36,4},{9,21,25},{37,12,86},{37,5,65},{45,6,56},{6,7,65},{4,2,85},{41,35,95},{29,24,85},{24,46,62},{28,11,49},{32,22,19},{10,8,33},{48,47,87},{14,41,42},{22,47,51},{39,2,52},{24,43,38},{21,23,61},{7,46,57},{18,20,56},{18,49,23},{15,45,62},{30,35,57},{3,31,60},{15,16,28},{3,39,50},{14,45,95},{23,17,20},{43,36,76},{33,28,45},{31,4,9},{25,18,91},{12,27,93},{44,37,86},{28,1,1},{6,5,39},{8,21,85},{6,43,53},{26,35,40},{4,18,18},{49,50,71},{10,27,90},{1,38,67},{45,33,3},{31,11,56},{34,18,62},{33,13,30},{26,17,57},{12,7,60},{31,27,60},{31,50,69},{7,41,70},{46,8,64},{28,13,96},{40,21,29},{8,34,54},{35,16,17},{17,43,33},{24,5,41},{36,37,68},{46,17,69},{15,25,9},{35,22,68},{1,2,83},{47,41,53},{29,50,38},{33,36,56},{49,37,76},{5,29,61},{42,49,6},{10,20,21},{37,30,57},{8,50,58},{9,33,6},{2,39,84},{1,27,69},{39,33,70},{40,34,57},{17,40,37},{28,33,37},{37,43,6},{8,31,37},{15,40,37},{25,1,71},{34,2,59},{20,4,38},{39,42,20},{12,34,55},{21,50,45},{8,29,77},{47,15,71},{3,24,51},{44,30,14},{44,3,99},{45,13,69},{48,3,7},{42,23,20},{25,31,90},{48,4,4},{44,21,28},{49,44,31},{41,34,74},{22,1,67},{24,50,63},{38,21,61},{40,31,54},{15,1,28},{45,42,53},{22,39,8},{28,35,28},{6,35,24},{38,25,59},{14,48,9},{32,21,11},{47,9,33},{10,50,63},{15,44,57},{6,49,80},{9,32,37},{14,5,41},{24,19,38},{35,2,9},{46,48,69},{30,8,68},{43,21,34},{9,17,43},{14,15,24},{12,24,84},{43,12,99},{9,25,54},{2,48,22},{26,2,79},{23,21,10},{32,41,5},{5,27,13},{9,31,32},{22,30,92},{48,34,94},{48,8,34},{32,33,35},{11,8,57},{24,39,99},{29,43,76},{44,13,96},{23,50,92},{15,10,24},{48,31,3},{40,28,89},{36,25,48},{20,8,31},{7,21,90},{16,44,28},{16,24,73},{44,19,37},{42,44,88},{36,8,97},{10,5,77},{13,47,7},{4,32,33},{3,4,91},{36,12,11},{26,30,56},{6,45,31},{31,40,49},{19,31,92},{7,16,50},{7,25,6},{36,39,54},{39,29,96},{44,22,31},{5,35,56},{34,41,13},{30,22,44},{16,23,17},{18,29,43},{24,15,32},{31,9,76},{19,37,24},{12,8,55},{18,42,63},{4,34,28},{35,7,72},{6,30,36},{8,45,61},{26,14,39},{4,3,16},{13,31,86},{1,5,97},{9,12,17},{2,27,20},{36,6,4},{42,28,11},{21,17,69},{17,28,96},{30,19,66},{19,23,69},{2,24,36},{9,23,46},{22,40,50},{49,12,85},{4,17,28},{2,1,48},{20,30,44},{2,49,11},{20,23,32},{8,9,83},{31,47,93},{6,46,65},{47,46,65},{19,25,62},{14,4,2},{36,35,46},{37,33,9},{42,15,16},{28,48,13},{21,3,60},{38,49,57},{3,7,39},{23,33,53},{26,39,67},{31,41,4},{15,39,40},{50,49,97},{6,42,61},{23,19,58},{38,42,62},{50,29,61},{7,34,69},{48,6,4},{1,31,92},{20,11,82},{24,28,22},{14,29,72},{11,34,64},{23,8,84},{33,45,75},{46,44,6},{9,2,89},{28,49,94},{32,2,27},{24,21,39},{17,33,59},{45,5,70},{31,21,94},{38,6,28},{35,33,73},{30,41,31},{32,30,11},{32,27,42},{33,4,18},{4,43,75},{50,12,7},{9,8,64},{35,25,77},{42,4,13},{27,29,42},{17,11,75},{49,22,57},{25,16,89},{30,34,94},{24,12,45},{37,19,4},{47,33,84},{36,20,11},{39,45,20},{46,6,77},{5,32,95},{47,11,78},{41,36,89},{37,23,60},{45,29,53},{14,40,18},{27,6,95},{17,3,67},{22,9,15},{29,39,19},{10,34,65},{22,14,58},{8,4,96},{30,14,38},{50,10,16},{5,24,58},{23,2,65},{21,18,67},{29,3,69},{17,25,81},{2,40,52},{15,50,59},{20,46,90},{35,34,39},{45,3,46},{19,21,75},{41,38,95},{24,35,0},{42,9,81},{43,1,85},{9,50,45},{29,46,87},{30,9,32},{26,28,94},{46,50,22},{37,38,69},{19,20,92},{3,20,33},{12,3,77},{14,39,35},{13,36,65},{8,23,80},{41,4,38},{23,29,18},{20,25,17},{7,13,30},{27,7,82},{48,42,45},{3,19,58},{43,6,23},{28,22,80},{21,6,41},{46,36,11},{17,10,29},{10,22,85},{24,4,63},{30,39,63},{21,34,65},{41,45,7},{46,18,86},{19,50,89},{22,23,96},{16,18,32},{27,36,43},{6,47,17},{44,20,20},{9,1,58},{45,37,12},{39,46,9},{31,7,73},{2,29,69},{19,48,1},{46,33,97},{3,29,14},{48,44,79},{19,34,27},{14,46,84},{48,26,42},{22,42,49},{19,46,44},{49,32,6},{47,32,92},{5,31,37},{36,3,76},{4,36,55},{20,33,91},{17,8,34},{41,39,7},{32,38,27},{29,34,30},{23,32,12},{31,30,93},{24,34,23},{11,20,75},{40,25,13},{45,44,45},{6,23,51},{46,30,35},{33,7,13},{16,40,36},{49,2,16},{29,47,41},{14,22,52},{35,50,43},{10,15,37},{5,10,75},{48,18,61},{44,38,18},{11,27,54},{10,30,22},{40,26,64},{3,49,68},{40,48,11},{49,3,73},{27,21,39},{4,5,42},{49,42,60},{10,18,14},{21,49,89},{10,26,53},{14,24,21},{35,3,36},{33,8,61},{11,28,53},{37,18,6},{41,11,4},{16,1,85},{36,49,26},{45,26,79},{11,49,52},{13,24,36},{18,11,20},{25,24,81},{4,27,17},{22,33,59},{32,40,40},{2,5,42},{39,41,92},{15,37,67},{46,47,65},{48,12,91},{36,29,53},{7,5,76},{40,8,53},{9,29,87},{18,10,26},{10,12,83},{26,44,16},{12,13,61},{11,30,11},{47,2,73},{5,8,50},{44,15,55},{2,44,42},{21,5,21},{30,18,56},{31,20,31},{26,36,44},{7,18,9},{30,38,58},{33,14,12},{40,16,6},{5,21,59},{50,15,80},{4,38,11},{22,44,92},{41,27,69},{8,28,79},{27,40,59},{16,48,91},{29,10,83},{44,18,87},{16,30,88},{31,12,91},{18,23,14},{5,40,86},{34,13,93},{12,43,71},{1,4,36},{50,47,67},{9,30,60},{29,19,76},{8,7,8},{19,1,77},{43,15,40},{8,22,32},{46,5,44},{39,18,88},{12,20,91},{48,19,38},{17,30,67},{28,10,88},{6,17,44},{16,37,96},{43,29,11},{34,38,32},{16,33,36},{12,23,56},{1,34,75},{44,34,46},{32,50,75},{35,42,85},{3,36,50},{41,33,93},{29,9,77},{46,41,65},{9,16,21},{11,1,97},{5,34,95},{38,36,70},{41,14,6},{4,47,70},{49,27,28},{26,24,21},{37,15,42},{37,14,48},{21,9,36},{37,9,71},{47,28,25},{49,31,23},{19,29,50},{5,12,50},{43,25,98},{15,35,86},{22,15,63},{45,1,73},{1,43,98},{33,17,17},{13,19,64},{20,42,84},{17,50,90},{31,2,32},{7,2,97},{42,39,20},{6,2,64},{9,27,32},{27,8,10},{45,27,22},{13,41,93},{7,27,59},{8,17,39},{49,10,99},{21,47,0},{16,5,49},{25,17,93},{1,41,8},{43,34,64},{19,44,21},{37,35,81},{24,41,58},{21,43,46},{27,22,67},{44,28,16},{18,45,61},{18,35,69},{10,21,85},{30,16,6},{16,50,39},{31,43,59},{23,3,29},{17,49,58},{38,18,1},{22,10,97},{32,31,62},{48,33,2},{4,19,84},{46,28,58},{25,50,17},{13,18,70},{30,5,41},{39,4,32},{36,23,84},{4,29,15},{15,18,94},{18,36,30},{15,14,88},{35,14,56},{39,8,46},{34,17,75},{37,47,42},{21,39,57},{38,34,76},{26,16,93},{39,5,8},{13,20,75},{4,49,9},{19,7,50},{26,3,46},{17,36,12},{44,25,60},{37,45,48},{46,34,83},{24,9,49},{4,28,10},{25,5,15},{25,15,34},{31,17,11},{35,13,28},{22,27,71},{46,37,9},{42,37,56},{26,21,80},{49,35,74},{28,45,0},{25,49,96},{5,17,7},{38,12,56},{45,21,98},{31,28,25},{3,10,61},{46,20,53},{2,26,85},{12,16,15},{1,28,71},{12,37,17},{35,37,49},{14,13,52},{23,24,73},{22,21,61},{19,40,67},{19,16,45},{32,34,60},{34,44,98},{41,47,54},{15,22,27},{1,19,5},{23,12,70},{43,27,16},{27,12,76},{9,24,12},{4,22,64},{34,9,66},{26,7,20},{41,29,0},{41,22,0},{22,19,50},{33,40,95},{34,30,48},{48,35,71},{30,29,95},{38,19,1},{28,40,53},{36,19,27},{10,46,15},{37,48,37},{18,46,35},{3,17,49},{22,49,77},{29,6,54},{21,16,12},{27,37,23},{24,2,98},{28,39,95},{17,6,40},{4,10,8},{3,32,56},{33,2,44},{13,8,50},{14,12,95},{42,50,70},{15,2,68},{44,40,63},{11,47,55},{14,7,64},{21,1,40},{18,13,49},{18,9,43},{14,42,56},{30,28,58},{21,44,18},{32,26,12},{50,17,85},{50,9,2},{15,9,69},{25,2,85},{15,5,57},{43,14,22},{23,44,80},{43,37,98},{12,35,81},{39,50,81},{5,37,32},{16,39,98},{24,10,73},{27,47,39},{36,11,95},{28,5,49},{22,41,99},{36,27,32},{16,31,63},{49,46,51},{47,21,13},{12,11,85},{23,9,80},{30,20,49},{7,24,98},{42,33,92},{20,48,72},{33,48,69},{42,2,67},{40,13,80},{25,37,88},{8,16,57},{6,48,8},{12,41,37},{47,40,6},{35,36,47},{38,14,86},{28,23,53},{37,29,29},{19,38,34},{18,47,55},{8,39,21},{22,29,58},{18,21,17},{2,8,64},{39,13,5},{38,2,68},{26,29,42},{30,17,20},{9,35,10},{45,2,56},{2,12,44},{26,34,51},{46,1,52},{3,15,92},{18,22,29},{21,42,5},{50,34,86},{47,3,14},{41,6,22},{19,17,2},{44,50,53},{41,50,57},{46,16,49},{13,38,79},{35,29,36},{36,13,74},{13,9,5},{24,36,70},{23,40,60},{24,49,55},{42,1,19},{31,32,6},{11,18,41},{25,42,94},{45,14,1},{29,26,14},{48,14,56},{31,24,47},{7,23,55},{50,23,26},{30,4,32},{16,19,60},{29,21,91},{6,37,27},{43,48,17},{30,31,41},{28,37,15},{38,9,66},{43,44,7},{17,18,25},{10,28,68},{48,7,7},{8,49,28},{8,24,6},{40,11,95},{1,29,89},{6,13,13},{2,50,63},{29,18,60},{35,27,41},{36,34,91},{17,21,34},{41,16,7},{36,18,35},{27,13,75},{39,20,27},{42,21,90},{20,38,51},{6,16,44},{44,2,87},{22,37,19},{14,2,78},{1,21,66},{27,33,41},{32,29,38},{23,49,28},{32,49,4},{28,42,55},{1,45,78},{1,16,96},{11,19,15},{49,43,13},{29,36,2},{13,35,7},{13,7,82},{44,46,73},{46,49,67},{27,1,34},{23,30,34},{11,17,96},{31,33,96},{24,48,24},{39,47,57},{31,25,19},{39,9,15},{11,32,52},{38,10,63},{24,22,29},{22,4,11},{10,44,89},{12,33,35},{19,15,61},{38,3,21},{5,38,54},{16,22,59},{4,6,98},{50,45,39},{5,7,33},{5,28,97},{45,34,12},{16,43,67},{40,10,6},{3,21,24},{27,28,82},{27,15,70},{35,8,24},{19,47,68},{36,42,35},{6,34,17},{46,2,85},{42,40,83},{18,17,62},{28,29,42},{48,13,49},{25,26,5},{45,25,73},{31,18,60},{4,16,22},{17,7,11},{50,27,27},{6,41,6},{50,41,69},{49,17,96},{4,13,20},{38,39,82},{41,19,17},{40,12,92},{3,13,18},{47,38,66},{3,37,8},{25,19,91},{37,41,71},{10,16,20},{29,33,15},{28,6,75},{40,24,5},{16,20,94},{34,25,32},{42,46,68},{18,16,11},{33,37,36},{36,22,87},{44,8,40},{15,21,31},{10,42,0},{28,3,55},{36,38,42},{22,32,45},{34,1,42},{38,30,93},{1,47,61},{43,11,83},{26,22,74},{26,1,29},{31,36,18},{25,7,49},{21,36,56},{4,39,50},{47,42,40},{29,37,46},{2,37,44},{7,48,55},{30,25,80},{31,6,60},{25,8,9},{31,13,49},{33,11,90},{23,39,76},{21,40,64},{17,4,94},{2,3,75},{32,35,30},{39,38,11},{1,37,43},{41,23,57},{45,19,29},{46,21,83},{23,4,67},{3,48,21},{47,39,16},{34,50,66},{23,45,79},{2,15,30},{9,6,70},{15,4,91},{28,34,28},{47,7,14},{35,26,99},{36,44,73},{33,23,74},{47,5,35},{20,14,91},{35,41,26},{31,29,54},{13,17,11},{38,16,98},{16,28,10},{38,23,94},{2,36,44},{38,27,22},{20,7,76},{46,29,3},{45,12,94},{12,4,28},{21,10,52},{42,16,80},{12,49,71},{2,4,89},{13,48,16},{20,12,77},{6,27,65},{2,19,58},{33,41,67},{34,16,45},{34,37,45},{29,40,49},{19,4,98},{10,4,46},{26,4,98},{50,6,69},{8,40,59},{28,24,93},{13,39,38},{46,27,84},{24,18,85},{34,28,56},{3,34,44},{28,38,42},{30,45,11},{39,34,23},{16,9,16},{28,50,55},{44,16,59},{27,41,0},{45,35,73},{41,17,97},{5,45,93},{39,22,40},{14,28,89},{20,6,31},{11,16,95},{36,24,20},{11,13,52},{9,28,22},{13,28,65},{19,13,78}};
  int n = 50;
  int K = 22;
  Solution solution;
  cout << solution.networkDelayTime(edges, n, K) << endl;
  return 0;
}